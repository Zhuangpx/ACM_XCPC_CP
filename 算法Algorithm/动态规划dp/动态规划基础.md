# 动态规划基础

参考资料：邓丝雨的《dp进阶之路》。[OIWIKI](https://oi-wiki.org/dp/) 。各大博客以及搜索引擎。

## 一.动态规划用于处理这样的问题：

### 1.相同子问题

有**重叠子问题**

### 2.最优子结构

有**最优子结构**的性质

具有最优子结构也可能是适合用贪心的方法求解。

注意要确保我们考察了最优解中用到的所有子问题。

1. 证明问题最优解的第一个组成部分是做出一个选择；
2. 对于一个给定问题，在其可能的第一步选择中，你界定已经知道哪种选择才会得到最优解。你现在并不关心这种选择具体是如何得到的，只是假定已经知道了这种选择；
3. 给定可获得的最优解的选择后，确定这次选择会产生哪些子问题，以及如何最好地刻画子问题空间；
4. 证明作为构成原问题最优解的组成部分，每个子问题的解就是它本身的最优解。方法是反证法，考虑加入某个子问题的解不是其自身的最优解，那么就可以从原问题的解中用该子问题的最优解替换掉当前的非最优解，从而得到原问题的一个更优的解，从而与原问题最优解的假设矛盾。

要保持子问题空间尽量简单，只在必要时扩展。

最优子结构的不同体现在两个方面：

1. 原问题的最优解中涉及多少个子问题；
2. 确定最优解使用哪些子问题时，需要考察多少种选择。

子问题图中每个定点对应一个子问题，而需要考察的选择对应关联至子问题顶点的边。

### 3.无后效性

要解决的问题可以分为不同部分的子问题，而这些子问题拥有同样的这样的性质，且存在一个最小子问题即最优解。

PS：子问题要能够**独立求解**不相影响，并且递归时不断解决相同的子问题而不是不断生成新的子问题。

也是说要具有**无后效性**

## 二.对于重叠子问题：

1.要去刻画最优解的结构特征

2.尝**试递归地定义最优解的值**（即从i-1转移到i）

3.计算最优解

4.利用构造的信息构造一个最优解

## 三.两种实现方法：

1.**带备忘的自顶向下法（记忆化搜索）**

2.**自底向上法（将子问题按规模排序，类似于递推）**

PS：**重构解（输出方案）**：转移的时候记录最优子结构的位置。

可以用子问题图拓扑排序求解问题，引出记忆化搜索。

## 四.解题步骤

第一步：**确定问题的子问题** 要点：注意分析哪些量随着问题规模的变小是会变小的，哪些变量 与问题无关。 

第二步：**确定状态**， 要点：结合子问题，敢想敢试，不要轻易否定一个状态，多思考，不要希望 每个题都能一蹴而就！ 

第三步：**推出状态转移方程** 要点：注意验证适用条件是否满足，注意不要漏掉条件。 

第四步：**确定边界条件** 要点：先根据状态含义确定，确定后验证第一层是否正确，如果不正确或 者无法按含义确定，则也可以采用第一层的值反推的方式确定边界。 

第五步：**确定实现方式** 要点：根据拓扑序是否明显和个人习惯确定！

 第六步：如果需要的话，确定**优化**方法！ 要点：注意优先考虑能否降维，不要局限于单调队列， 四边形不等式这些标准的用于譤議优化的东西，扩宽思维，避免定式！

注：从一个资料找到的方法，感觉还很有道理，可以借鉴

1.模型匹配法

 最先考虑的就是这个方法了。挖掘问题的本质，如果发现问题是自己熟悉的某个基本的模型，就 直接套用，但要小心其中的一些小的变动，现在考题办都是基本模型的变形套用时要小心条件，三思 而后行。

2.三要素法 

仔细分析问题尝试着确定动态规划的三要素，不同问题的却定方向不同： 

先确定阶段的问题：数塔问题 

先确定状态的问题：大多数都先确定状态的。

先确定决策的问题：背包问题 

一般都是先从比较明显的地方入手，至于怎么知道哪个明显就是经验问题了，多做题就会发现。

3.寻找规律法

 这个方法很简单，耐心推几组数据后，看他们的规律，总结规律间的共性，有点贪心的意思。

4.边界条件法 

找到问题的边界条件，然后考虑边界条件与它的领接状态之间的关系。这个方法也很起效。

5.放宽约束和增加约束 

这个思想是在陈启锋的论文里看到的，具体内容就是给问题增加一些条件或删除一些条件使问题 变的清晰。

## 五.经典类型：

1.背包dp

2.区间dp

3.DAG上的dp

4.树形/树上 dp

5.状压dp

6.数位dp

7.插头dp

8.计数dp

9.动态dp

10.概率dp

## 六.dp优化

## 七.经典问题